window.utils={rootUrl:function(){var rooturl='';if(location.host.toString().indexOf('localhost')>=0){rooturl='https://starnhat.vn/';}
if(location.host.toString().indexOf('sandbox')>=0){rooturl='https://starnhat.vn/';}
if(location.host.toString().indexOf('216.12.214.227')>=0){rooturl='https://starnhat.vn/';}
if(location.host.toString().indexOf('starnhat')>=0){rooturl='https://starnhat.vn/';}
return rooturl;},loadTemplate:function(views,callback){var deferreds=[];$.each(views,function(index,view){if(window[view]){deferreds.push($.get(utils.rootUrl()+'template/'+view+'.html?'+new Date().getHours(),function(data){window[view].prototype.template=_.template(data);}));}else{console.log(view+" not found");}});$.when.apply(null,deferreds).done(callback);},loadSubTemplate:function(views,url,callback){var deferreds=[];$.each(views,function(index,view){if(window[view]){deferreds.push($.get(utils.rootUrl()+url+view+'.html?'+new Date().getHours(),function(data){window[view].prototype.template=_.template(data);}));}else{console.log(view+" not found");}});$.when.apply(null,deferreds).done(callback);},loadListTemplate:function(views,callback){var deferreds=[];$.each(views,function(index,view){var arr=view.split('/');if(arr.length<2){console.log(view+" not found");}else{var viewloaded=arr[arr.length-1];if(window[viewloaded]){deferreds.push($.get(utils.rootUrl()+view+'.html?'+new Date().getHours(),function(data){window[viewloaded].prototype.template=_.template(data);}));}else{console.log(view+" not found");}}});$.when.apply(null,deferreds).done(callback);},displayValidationErrors:function(messages){for(var key in messages){if(messages.hasOwnProperty(key)){this.addValidationError(key,messages[key]);}}
this.showAlert('Warning!','Fix validation errors and try again','alert-warning');},addValidationError:function(field,message){var controlGroup=$('#'+field).parent().parent();controlGroup.addClass('error');$('.help-inline',controlGroup).html(message);},removeValidationError:function(field){var controlGroup=$('#'+field).parent().parent();controlGroup.removeClass('error');$('.help-inline',controlGroup).html('');},showAlert:function(title,text,klass){$('.alert').removeClass("alert-error alert-warning alert-success alert-info");$('.alert').addClass(klass);$('.alert').html('<strong>'+title+'</strong> '+text);$('.alert').show();},hideAlert:function(){$('.alert').hide();},convertUTFStr:function(str){str=str.toLowerCase();str=str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g,"a");str=str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e");str=str.replace(/ì|í|ị|ỉ|ĩ/g,"i");str=str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g,"o");str=str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u");str=str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y");str=str.replace(/đ/g,"d");str=str.replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'| |\"|\&|\#|\[|\]|~|$|_/g,"-");str=str.replace(/-+-/g,"-");str=str.replace(/^\-+|\-+$/g,"");return str;},showTooltip:function(clientid,text){if($('.tooltip').length<=0){$('#tooltip').html('<div class="tooltip"><div class="quote"><img src="'+this.rootUrl()+'content/images/tooltip_quote.png"></div>'+text+'</div>');var top=$('#'+clientid).offset().top;var left=$('#'+clientid).offset().left;$('#tooltip').css('top',(top+20)+'px');$('#tooltip').css('left',(left+30)+'px');$('#tooltip').css('position','absolute');$('#tooltip').css('z-index','11');$('#tooltip').css('display','block');}},hideTooltip:function(){$('.tooltip').remove();},documentHeight:function(){return $(document).height();},documentWidth:function(){return $(document).width();},windowHeight:function(){return $(window).height();},windowWidth:function(){return $(window).width();},loading:function(){this.unLoading();var html='<div id="LoadingContainer"><div  id="Loading" style="display: none; text-align: center; overflow-y: none; vertical-align: middle;"><img src="'+this.rootUrl()+'Images/reg-profile/loading.gif" alt="Loading" /></div>';html+='<div  id="LoadingOverlay"></div>';html+='<style> #Loading{	width: 300px;	height: 300px;	z-index: 1400;	position: fixed;	padding: 5px;}#LoadingOverlay{	-moz-opacity: 0.8;	opacity: .80;	filter: alpha(opacity=80);	position: absolute;	z-index: 1200;	top: 0;	left: 0;	width: 100%;	height: 100%;	display: none;	background-color: #ccc;}</style></div>';$('body').append(html);$('#Loading');$('#LoadingOverlay').show();var leftOffset=(this.windowWidth()-300)/2;var topOffset=(this.windowHeight()-300)/2;$('#Loading').css('width',300);$('#Loading').css('height',300);$('#Loading').css('left',leftOffset);$('#Loading').css('top','47%');$('#Loading').show();$('#LoadingOverlay').css('height',this.documentHeight());},unLoading:function(){$('#LoadingContainer').remove();},formatMoney:function(argValue){var comma=(1/2+'').charAt(1);var digit=',';if(comma=='.'){digit='.';}
var sSign="";if(argValue<0){sSign="-";argValue=-argValue;}
var sTemp=""+argValue;var index=sTemp.indexOf(comma);var digitExt="";if(index!=-1){digitExt=sTemp.substring(index+1);sTemp=sTemp.substring(0,index);}
var sReturn="";while(sTemp.length>3){sReturn=digit+sTemp.substring(sTemp.length-3)+sReturn;sTemp=sTemp.substring(0,sTemp.length-3);}
sReturn=sSign+sTemp+sReturn;if(digitExt.length>0){sReturn+=comma+digitExt;}
return sReturn;},jSonToDate:function(value){value=value.replace('/Date(','');value=value.replace(')/','');var expDate=new Date(parseInt(value));return expDate;},jSonDateToString:function(value,option){if(typeof(option)=='undefined'){option=0;}
var expDate=this.jSonToDate(value);var day=expDate.getDate();var month=expDate.getMonth()+1;var year=expDate.getFullYear();var hour=expDate.getHours();var minute=expDate.getMinutes();var second=expDate.getSeconds();if(day<10)day="0"+day;if(month<10)month="0"+month;if(hour<10)hour="0"+hour;if(minute<10)minute="0"+minute;if(second<10)second="0"+second;switch(option){case 0:return day+'/'+month+'/'+year+' '+hour+':'+minute+':'+second;case 1:return day+'/'+month+'/'+year;case 2:return hour+':'+minute+':'+second+' '+day+'/'+month+'/'+year;case 3:return year+'/'+month+'/'+day+' '+hour+':'+minute+':'+second;case 4:return year+'/'+month+'/'+day;case 5:return day+'h'+minute;default:return expDate.toString();}},formDateTime:function(date){var d=new Date(date);var currDate=d.getDate();var currMonth=d.getMonth();var currYear=d.getFullYear();return currDate+"-"+(currMonth+1)
+"-"+currYear;},replaceAll:function(sources,strTarget,strSubString){var strText=sources;var intIndexOfMatch=strText.indexOf(strTarget);while(intIndexOfMatch!=-1){strText=strText.replace(strTarget,strSubString)
intIndexOfMatch=strText.indexOf(strTarget);}
return(strText);},formatString:function(str,param){var args=param.toString().split(',');for(var i=0;i<args.length;i++){var reg=new RegExp("\\{"+i+"\\}","");str=utils.replaceAll(str,'{'+i+'}',args[i].toString());}
return str;},showPopup:function(text){if($('#popupwrap').length<=0){$('BODY').append(new PopupView({description:text}).render().el);var width=$('.popup1').width();var height=$('.popup1').height();var topOffset=(((utils.windowHeight()-height)/2)*100)/utils.windowHeight();var leftOffset=(((utils.windowWidth()-width)/2)*100)/utils.windowWidth();$('#popupwrap').css('width',width+'px');$('#popupwrap').css('left',leftOffset+"%");$('#popupwrap').css("top",topOffset+"%");$('#popupwrap').css('z-index',1300);$('#popupwrap').css('position','fixed');$('#overlayPopup').css('height',utils.documentHeight());}},showPopupCloseRedrirect:function(text,link){if($('#popupwrap').length<=0){$('BODY').append(new PopupView({description:text,link:link}).render().el);var width=$('.popup1').width();var height=$('.popup1').height();var topOffset=(((utils.windowHeight()-height)/2)*100)/utils.windowHeight();var leftOffset=(((utils.windowWidth()-width)/2)*100)/utils.windowWidth();$('#popupwrap').css('width',width+'px');$('#popupwrap').css('left',leftOffset+"%");$('#popupwrap').css("top",topOffset+"%");$('#popupwrap').css('z-index',1300);$('#popupwrap').css('position','fixed');$('#overlayPopup').css('height',utils.documentHeight());}},showPopupConfirm:function(text,functions){if($('#popupwrap').length<=0){$('BODY').append(new PopupConfirmView({description:text,confirm:true,functions:functions}).render().el);var width=$('.popup1').width();var height=$('.popup1').height();var topOffset=(((utils.windowHeight()-height)/2)*100)/utils.windowHeight();var leftOffset=(((utils.windowWidth()-width)/2)*100)/utils.windowWidth();$('#popupwrap').css('width',width+'px');$('#popupwrap').css('left',leftOffset+"%");$('#popupwrap').css("top",topOffset+"%");$('#popupwrap').css('z-index',1300);$('#popupwrap').css('position','fixed');$('#overlayPopup').css('height',utils.documentHeight());}},showPopupIntro365:function(){if($('#popupwrap').length<=0){$('BODY').append(new PopupSliderView().render().el);var width=980;var height=487;var topOffset=(((utils.windowHeight()-height)/2)*100)/utils.windowHeight();var leftOffset=(((utils.windowWidth()-width)/2)*100)/utils.windowWidth();$('#popupwrap').css('width',width+'px');$('#popupwrap').css('left',leftOffset+"%");$('#popupwrap').css("top",topOffset+"%");$('#popupwrap').css('z-index',1300);$('#popupwrap').css('position','fixed');$('#overlayPopup').css('height',utils.documentHeight());}},showPopupIntroQR365:function(){if($('#popupwrap').length<=0){$('BODY').append(new PopupSliderQrView().render().el);var width=980;var height=487;var topOffset=(((utils.windowHeight()-height)/2)*100)/utils.windowHeight();var leftOffset=(((utils.windowWidth()-width)/2)*100)/utils.windowWidth();$('#popupwrap').css('width',width+'px');$('#popupwrap').css('left',leftOffset+"%");$('#popupwrap').css("top",topOffset+"%");$('#popupwrap').css('z-index',1300);$('#popupwrap').css('position','fixed');$('#overlayPopup').css('height',utils.documentHeight());}},showPopupLogin:function(text){if($('#popupwrap').length<=0){$('BODY').append(new PopupLoginView({description:text}).render().el);var width=$('.popup1').width();var height=$('.popup1').height();var topOffset=(((utils.windowHeight()-height)/2)*100)/utils.windowHeight();var leftOffset=(((utils.windowWidth()-width)/2)*100)/utils.windowWidth();$('#popupwrap').css('width',width+'px');$('#popupwrap').css('left',leftOffset+"%");$('#popupwrap').css("top",topOffset+"%");$('#popupwrap').css('z-index',1300);$('#popupwrap').css('position','fixed');$('#overlayPopup').css('height',utils.documentHeight());}},showPopupButton:function(text){if($('#popupwrap').length<=0){$('BODY').append(new PopupButtonView({description:text}).render().el);var width=$('.popup1').width();var height=$('.popup1').height();var topOffset=(((utils.windowHeight()-height)/2)*100)/utils.windowHeight();var leftOffset=(((utils.windowWidth()-width)/2)*100)/utils.windowWidth();$('#popupwrap').css('width',width+'px');$('#popupwrap').css('left',leftOffset+"%");$('#popupwrap').css("top",topOffset+"%");$('#popupwrap').css('z-index',1300);$('#popupwrap').css('position','fixed');$('#overlayPopup').css('height',utils.documentHeight());}},showPrintCardPopup:function(productlist,data,category,isVdcCard){$('BODY').append(new PrintCardPopupView({model:productlist,data:data,category:category,isVdcCard:isVdcCard}).render().el);$('#txtAgentName').val(data.fullname);var width=$('.popup2').width();var height=$('.popup2').height();var topOffset=(((utils.windowHeight()-height)/2)*100)/utils.windowHeight();var leftOffset=(((utils.windowWidth()-width)/2)*100)/utils.windowWidth();$('#popupwrap').css('width',width+'px');$('#popupwrap').css('left',leftOffset+"%");$('#popupwrap').css("top",topOffset+"%");$('#popupwrap').css('z-index',1300);$('#popupwrap').css('position','fixed');$('#overlayPopup').css('height',utils.documentHeight());},showSendSMSCardPopup:function(productlist,data,isVdcCard){$('BODY').append(new SendSmsCardPopupView({model:productlist,data:data,page:1,isVdcCard:isVdcCard}).render().el);var width=$('.popup2').width();var height=$('.popup2').height();var topOffset=(((utils.windowHeight()-height)/2)*100)/utils.windowHeight();var leftOffset=(((utils.windowWidth()-width)/2)*100)/utils.windowWidth();$('#popupwrap').css('width',width+'px');$('#popupwrap').css('left',leftOffset+"%");$('#popupwrap').css("top",topOffset+"%");$('#popupwrap').css('z-index',1300);$('#popupwrap').css('position','fixed');$('#overlayPopup').css('height',utils.documentHeight());},showWritefileCardPopup:function(exportOrderId,productId,data,category){$('BODY').append(new WritefileCardPopupView({exportOrderId:exportOrderId,productId:productId,data:data,category:category}).render().el);$('#txtAgentName').val(data.fullname);var width=$('.popup2').width();var height=$('.popup2').height();var topOffset=(((utils.windowHeight()-height)/2)*100)/utils.windowHeight();var leftOffset=(((utils.windowWidth()-width)/2)*100)/utils.windowWidth();$('#popupwrap').css('width',width+'px');$('#popupwrap').css('left',leftOffset+"%");$('#popupwrap').css("top",topOffset+"%");$('#popupwrap').css('z-index',1300);$('#popupwrap').css('position','fixed');$('#overlayPopup').css('height',utils.documentHeight());},showCodeSmashcashPopup:function(code){if($('#popupwrap').length<=0){$('BODY').append(new PopupCodeSmashcash({code:code}).render().el);var width=$('.popup1').width();var height=$('.popup1').height();var topOffset=(((utils.windowHeight()-height)/2)*100)/utils.windowHeight();var leftOffset=(((utils.windowWidth()-width)/2)*100)/utils.windowWidth();$('#popupwrap').css('width',width+'px');$('#popupwrap').css('left',leftOffset+"%");$('#popupwrap').css("top",topOffset+"%");$('#popupwrap').css('z-index',1300);$('#popupwrap').css('position','fixed');$('#overlayPopup').css('height',utils.documentHeight());}},showKeyMobileSecurityPopup:function(code){if($('#popupwrap').length<=0){$('BODY').append(new PopupKeyMobileSecurity({code:code}).render().el);var width=$('.popup1').width();var height=$('.popup1').height();var topOffset=(((utils.windowHeight()-height)/2)*100)/utils.windowHeight();var leftOffset=(((utils.windowWidth()-width)/2)*100)/utils.windowWidth();$('#popupwrap').css('width',width+'px');$('#popupwrap').css('left',leftOffset+"%");$('#popupwrap').css("top",topOffset+"%");$('#popupwrap').css('z-index',1300);$('#popupwrap').css('position','fixed');$('#overlayPopup').css('height',utils.documentHeight());}},ErrorMessage:function(text){$('#divError').empty();var html='<img class="fl" src="'+utils.rootUrl()+'content/images/ic4.gif"><div class="text_red">'+text+'</div>';$('#divError').html(html);},ClearErrorMessage:function(){$('#divError').empty();},ErrorMessageGeneral:function(text,fieldid){$('#'+fieldid).empty();var html='<img class="fl" src="'+utils.rootUrl()+'content/images/ic4.gif"><div class="text_red">'+text+'</div>';$('#'+fieldid).html(html);},ClearErrorMessageGeneral:function(fieldid){$('#'+fieldid).empty();},FormatNumber:function(pSStringNumber){pSStringNumber+='';var x=pSStringNumber.split(',');var x1=x[0];var x2=x.length>1?','+x[1]:'';var rgx=/(\d+)(\d{3})/;while(rgx.test(x1))
x1=x1.replace(rgx,'$1'+'.'+'$2');return x1+x2;},CheckOnlyNumber:function(obj,e){var whichCode=(window.Event&&e.which)?e.which:e.keyCode;if(whichCode==9)return true;if((whichCode>=48&&whichCode<=57)||whichCode==8){var n=obj.value.replace(/,/g,"");if(whichCode==8){if(n.length!=0)
n=n.substr(0,n.length-1);}
if(parseFloat(n)==0){n='';}
return true;}
e.returnValue=false;return false;},validateEmail:function(email){var filter=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return filter.test(email);},validateOnlyLetter:function(text){var filter=/^[a-zA-Z]+$/;return filter.test(text);},validateLetter:function(text){var filter=/^[a-zA-Z0-9]+$/;return filter.test(text);},validateLetterPassword:function(text){var filter=/^[a-zA-Z0-9\.\_~!@#$%^&*(:)-+=]+$/;return filter.test(text);},validateEmail:function(email){var filter=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return filter.test(email);},CheckOnlyLetter:function(obj,e){var charTyped=String.fromCharCode(e.which);var filter=/^[a-zA-Z]+$/;if(filter.test(charTyped)){return true}
returnValue=false;return false;},ReloadBalance:function(balance){$('#loginbalance').empty();$('#loginbalance').html('<strong>'+utils.formatMoney(balance)+'đ<strong>');},createdDatetime:function(date){var dateTime=date.split("T");var time=dateTime[1].split(".")[0];date=dateTime[0].split("-");date=date[2]+"-"+date[1]+"-"+date[0];return date+" "+time;},refreshCaptcha:function(imgId,verifyId,oldverify){var captchaModel=new CaptchaModel();captchaModel.urlRoot+=('Get?oldVerify='+oldverify);captchaModel.fetch({success:function(){$('#'+verifyId).val(captchaModel.get('verify'));$('#'+imgId).attr('src','data:image/jpeg;base64,'+captchaModel.get('imageData'));},error:function(){utils.showPopup('Hệ thống đang bận, vui lòng quay lại sau');}});},scrollTop:function(){},dateTimeNews:function(date){var dateTime=date.split("T");var time=dateTime[1].split(".")[0].split(":");time=time[0]+":"+time[1];var date=dateTime[0].split("-");date=date[2]+"/"+date[1]+"/"+date[0];return time+" ngày "+date;},styleDateTime:function(date,style){var dateTime=date.split("T");var time=dateTime[1].split(".")[0].split(":");var date=dateTime[0].split("-");switch(style){case 1:time=time[0]+":"+time[1];date=date[2]+"/"+date[1]+"/"+date[0];dateTime=time+" ngày "+date;break;case 2:date=date[2]+"/"+date[1]+"/"+date[0];dateTime=date;break;case 3:time=time[0]+":"+time[1];date=date[2]+"/"+date[1]+"/"+date[0];dateTime=date+" "+time;break;}
return dateTime;},DocSo3ChuSo:function(baso){var ChuSo=new Array(" không "," một "," hai "," ba "," bốn "," năm "," sáu "," bảy "," tám "," chín ");var Tien=new Array(""," nghìn"," triệu"," tỷ"," nghìn tỷ"," triệu tỷ");var tram;var chuc;var donvi;var KetQua="";tram=parseInt(baso/100);chuc=parseInt((baso%100)/10);donvi=baso%10;if(tram==0&&chuc==0&&donvi==0)return "";if(tram!=0){KetQua+=ChuSo[tram]+" trăm ";if((chuc==0)&&(donvi!=0))KetQua+=" linh ";}
if((chuc!=0)&&(chuc!=1)){KetQua+=ChuSo[chuc]+" mươi";if((chuc==0)&&(donvi!=0))KetQua=KetQua+" linh ";}
if(chuc==1)KetQua+=" mười ";switch(donvi){case 1:if((chuc!=0)&&(chuc!=1)){KetQua+=" mốt ";}
else{KetQua+=ChuSo[donvi];}
break;case 5:if(chuc==0){KetQua+=ChuSo[donvi];}
else{KetQua+=" lăm ";}
break;default:if(donvi!=0){KetQua+=ChuSo[donvi];}
break;}
return KetQua;},DocTienBangChu:function(SoTien){var ChuSo=new Array(" không "," một "," hai "," ba "," bốn "," năm "," sáu "," bảy "," tám "," chín ");var Tien=new Array(""," nghìn"," triệu"," tỷ"," nghìn tỷ"," triệu tỷ");var lan=0;var i=0;var so=0;var KetQua="";var tmp="";var ViTri=new Array();if(SoTien<0)return "Số tiền âm !";if(SoTien==0)return "Không đồng !";if(SoTien>0){so=SoTien;}
else{so=-SoTien;}
if(SoTien>8999999999999999){return "Số quá lớn!";}
ViTri[5]=Math.floor(so/1000000000000000);if(isNaN(ViTri[5]))
ViTri[5]="0";so=so-parseFloat(ViTri[5].toString())*1000000000000000;ViTri[4]=Math.floor(so/1000000000000);if(isNaN(ViTri[4]))
ViTri[4]="0";so=so-parseFloat(ViTri[4].toString())*1000000000000;ViTri[3]=Math.floor(so/1000000000);if(isNaN(ViTri[3]))
ViTri[3]="0";so=so-parseFloat(ViTri[3].toString())*1000000000;ViTri[2]=parseInt(so/1000000);if(isNaN(ViTri[2]))
ViTri[2]="0";ViTri[1]=parseInt((so%1000000)/1000);if(isNaN(ViTri[1]))
ViTri[1]="0";ViTri[0]=parseInt(so%1000);if(isNaN(ViTri[0]))
ViTri[0]="0";if(ViTri[5]>0){lan=5;}
else if(ViTri[4]>0){lan=4;}
else if(ViTri[3]>0){lan=3;}
else if(ViTri[2]>0){lan=2;}
else if(ViTri[1]>0){lan=1;}
else{lan=0;}
for(i=lan;i>=0;i--){tmp=this.DocSo3ChuSo(ViTri[i]);KetQua+=tmp;if(ViTri[i]>0)KetQua+=Tien[i];if((i>0)&&(tmp.length>0))KetQua+=',';}
if(KetQua.substring(KetQua.length-1)==','){KetQua=KetQua.substring(0,KetQua.length-1);}
KetQua=KetQua.substring(1,2).toUpperCase()+KetQua.substring(2);KetQua+=" đồng";return KetQua;},ShowPopupEvent:function(msg,cookieExpire){var event365=utils.GetCookie('365.event.vtc','true',cookieExpire);if(event365==null){if($('#popupwrap').length<=0){$('BODY').append(new PopupEventView().render().el);var width=990;var height=487;var topOffset=(((utils.windowHeight()-height)/2)*100)/utils.windowHeight();var leftOffset=(((utils.windowWidth()-width)/2)*100)/utils.windowWidth();$('#popupwrap').css('width',width+'px');$('#popupwrap').css('left',leftOffset+"%");$('#popupwrap').css("top",topOffset+"%");$('#popupwrap').css('z-index',1300);$('#popupwrap').css('position','fixed');$('#overlayPopup').css('height',utils.documentHeight());$('#popup').html();}
utils.SetCookie('365.event.vtc','true',cookieExpire);}},SetCookie:function(name,value,days){if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString();}else var expires="";document.cookie=name+"="+value+expires+"; path=/";},GetCookie:function(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}return null;},DeleteCookie:function(name){EbankUtility.SetCookie(name,"",-1);},validateDatetime:function(dtStr){var dtCh="/";var minYear=1900;var maxYear=2100;var daysInMonth=utils.DaysArray(12);var pos1=dtStr.indexOf(dtCh);var pos2=dtStr.indexOf(dtCh,pos1+1);var strDay=dtStr.substring(0,pos1);var strMonth=dtStr.substring(pos1+1,pos2);var strYear=dtStr.substring(pos2+1);var strYr=strYear;if(strDay.charAt(0)=="0"&&strDay.length>1)strDay=strDay.substring(1);if(strMonth.charAt(0)=="0"&&strMonth.length>1)strMonth=strMonth.substring(1);for(var i=1;i<=3;i++){if(strYr.charAt(0)=="0"&&strYr.length>1)strYr=strYr.substring(1);}
var month=parseInt(strMonth);var day=parseInt(strDay);var year=parseInt(strYr);if(pos1==-1||pos2==-1){return false;}
if(strMonth.length<1||month<1||month>12){return false;}
if(strDay.length<1||day<1||day>31||(month==2&&day>utils.daysInFebruary(year))||day>daysInMonth[month]){return false;}
if(strYear.length!=4||year==0||year<minYear||year>maxYear){return false;}
if(dtStr.indexOf(dtCh,pos2+1)!=-1||utils.isInteger(utils.stripCharsInBag(dtStr,dtCh))==false){return false;}
return true;},isInteger:function(s){var i;for(i=0;i<s.length;i++){var c=s.charAt(i);if(((c<"0")||(c>"9")))return false;}
return true;},stripCharsInBag:function(s,bag){var i;var returnString="";for(i=0;i<s.length;i++){var c=s.charAt(i);if(bag.indexOf(c)==-1)returnString+=c;}
return returnString;},daysInFebruary:function(year){return(((year%4==0)&&((!(year%100==0))||(year%400==0)))?29:28);},DaysArray:function(n){for(var i=1;i<=n;i++){this[i]=31;if(i==4||i==6||i==9||i==11){this[i]=30;}
if(i==2){this[i]=29;}}
return this;},strip_tags:function(html){var temp=document.createElement('DIV');temp.innerHTML=html;return temp.textContent||temp.innerText;},showPopupRegisterSuccess:function(text){if($('#popupwrap').length<=0){$('BODY').append(new PopupRegisterSuccessView({description:text}).render().el);var width=$('.popup1').width();var height=$('.popup1').height();var topOffset=(((utils.windowHeight()-height)/2)*100)/utils.windowHeight();var leftOffset=(((utils.windowWidth()-width)/2)*100)/utils.windowWidth();$('#popupwrap').css('width',width+'px');$('#popupwrap').css('left',leftOffset+"%");$('#popupwrap').css("top",topOffset+"%");$('#popupwrap').css('z-index',1300);$('#popupwrap').css('position','fixed');$('#overlayPopup').css('height',utils.documentHeight());}},getParameterByName:function(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(location.search);return results===null?"":decodeURIComponent(results[1].replace(/\+/g," "));}};